<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SpeedDigits Trainer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
/* ===== ORIGINAL UI (UNCHANGED) ===== */
:root{
  --bg:#0e1625;
  --card:#121826;
  --muted:#9aa4b2;
  --accent:#7c3aed;
  --green:#16a34a;
  --red:#dc2626;
}
body{
  margin:0;
  font-family:Inter,system-ui;
  background:radial-gradient(1200px 600px at top,#1c2a44,var(--bg));
  color:#e5e7eb;
}
.container{max-width:880px;margin:40px auto;padding:24px;}
.header{display:flex;gap:10px;font-size:28px;font-weight:700;}
.sub{color:var(--muted)}
.card{background:linear-gradient(180deg,#121826,#0f172a);border-radius:14px;padding:24px;margin-top:20px}
.hidden{display:none}

/* ===== SIDEBAR ===== */
#hubToggle{
  position:fixed;top:18px;left:18px;
  background:#121826;border:1px solid #1f2937;
  color:#e5e7eb;border-radius:10px;
  padding:8px 12px;font-size:22px;cursor:pointer;
  z-index:1001;
}
#hub{
  position:fixed;top:0;left:0;bottom:0;width:240px;
  background:#121826;border-right:1px solid #1f2937;
  transform:translateX(-100%);transition:.3s;
  padding:20px;z-index:1000;
}
#hub.open{transform:translateX(0)}
.hub-item{padding:10px;border-radius:8px;cursor:pointer}
.hub-item:hover{background:#1f2937}

table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border-bottom:1px solid #1f2937;padding:8px;font-size:14px}
</style>
</head>

<body>

<button id="hubToggle">â˜°</button>

<div id="hub">
  <h3>âš¡ Performance Hub</h3>
  <div class="hub-item" data-target="config">ðŸ§® Calculator</div>
  <div class="hub-item" data-target="profile">ðŸ‘¤ Profile</div>
  <div class="hub-item" data-target="history">ðŸ“œ Test History</div>
  <div class="hub-item" data-target="analysisPanel">ðŸ“Š Analysis</div>
  <div class="hub-item" id="resetApp">ðŸšª Reset</div>
</div>

<div class="container">

<!-- PROFILE -->
<div id="profile" class="hidden card">
  <div class="header">ðŸ‘¤ Profile</div>
  <p>Total Tests: <b id="pTests">0</b></p>
  <p>Total Questions: <b id="pQuestions">0</b></p>
  <p>Best Accuracy: <b id="pBest">0%</b></p>
  <p>Average Accuracy: <b id="pAvg">0%</b></p>
</div>

<!-- HISTORY -->
<div id="history" class="hidden card">
  <div class="header">ðŸ“œ Test History</div>
  <table>
    <thead>
      <tr><th>Date</th><th>Name</th><th>Accuracy</th><th>Avg Time</th><th>Q</th></tr>
    </thead>
    <tbody id="historyTable"></tbody>
  </table>
</div>

<!-- ANALYSIS -->
<div id="analysisPanel" class="hidden card">
  <div class="header">ðŸ“Š Analysis</div>
  <p>Fastest Avg Time: <b id="aFast">â€“</b></p>
  <p>Best Accuracy: <b id="aBest">â€“</b></p>
</div>

<!-- CALCULATOR (YOUR ORIGINAL) -->
<div id="config">
  <div class="header">ðŸ–© SpeedDigits Trainer</div>
  <div class="sub">âš™ Configure Your Practice Session</div>
  <div class="card">
    <input id="testName" placeholder="Test Name">
    <input id="questions" type="number" value="10">
    <button onclick="startTest()">Start Practice</button>
  </div>
</div>

</div>

<script>
/* ===== STORAGE ===== */
let tests = JSON.parse(localStorage.getItem("speedDigitsTests")||"[]");

/* ===== SIDEBAR ===== */
hubToggle.onclick=()=>hub.classList.toggle("open");

document.querySelectorAll(".hub-item[data-target]").forEach(i=>{
  i.onclick=()=>{
    ["config","profile","history","analysisPanel"].forEach(id=>{
      document.getElementById(id).classList.add("hidden");
    });
    document.getElementById(i.dataset.target).classList.remove("hidden");
    hub.classList.remove("open");
    render();
  };
});

resetApp.onclick=()=>{
  if(confirm("Clear all data?")){
    localStorage.clear();
    location.reload();
  }
};

/* ===== CALCULATOR MOCK RESULT SAVE ===== */
function startTest(){
  const total=+questions.value;
  const correct=Math.floor(Math.random()*total);
  const acc=Math.round(correct/total*100);
  const avg=(Math.random()*3+2).toFixed(2);

  tests.push({
    date:new Date().toLocaleDateString(),
    name:testName.value||"Practice",
    acc,avg,total
  });

  localStorage.setItem("speedDigitsTests",JSON.stringify(tests));
  alert("Test saved!");
}

/* ===== RENDER PROFILE / HISTORY / ANALYSIS ===== */
function render(){
  if(!tests.length)return;

  pTests.textContent=tests.length;
  pQuestions.textContent=tests.reduce((a,b)=>a+b.total,0);
  pBest.textContent=Math.max(...tests.map(t=>t.acc))+"%";
  pAvg.textContent=Math.round(tests.reduce((a,b)=>a+b.acc,0)/tests.length)+"%";

  historyTable.innerHTML="";
  tests.forEach(t=>{
    historyTable.innerHTML+=
      `<tr><td>${t.date}</td><td>${t.name}</td>
      <td>${t.acc}%</td><td>${t.avg}s</td><td>${t.total}</td></tr>`;
  });

  aFast.textContent=Math.min(...tests.map(t=>t.avg))+"s";
  aBest.textContent=Math.max(...tests.map(t=>t.acc))+"%";
}
</script>

</body>
</html>
